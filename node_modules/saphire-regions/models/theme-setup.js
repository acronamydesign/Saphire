var fs = require('fs'),
		path = require('path'),
		map = require('../src.map.js');
/*
function theme(){
	var dir = map.deployTheme;
	this.theme = function(public){
		if(public == undefined){
			var public = "/themes";
		}
		else{
			var public = "/"+public.split(".").join("").split("/").join("")+"/themes";
		}
		publicRoot = path.normalize(dir+public);
		if (!fs.existsSync(publicRoot)){
			fs.mkdirSync(publicRoot);
			fs.mkdirSync(publicRoot+"/saphire");
			fs.writeFile(publicRoot+"/saphire/info.js", "//foo")
		}
		this.set = public;
	}
}
theme = new theme();
//module.exports = theme;
*/

module.exports = function (publicPath) {
	var dir = map.deployTheme;
	var themeRoot = path.normalize(dir +"/"+ publicPath+"/themes");
	if (!fs.existsSync(themeRoot)) {
		fs.mkdirSync(themeRoot);
		fs.mkdirSync(themeRoot + "/saphire");
		fs.writeFile(themeRoot + "/saphire/info.js", "//foo")
	}
	return themeRoot;
}
